(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[731],{1365:function(e,t,a){Promise.resolve().then(a.bind(a,7881))},7881:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var s=a(7437),r=a(2265),i=a(9805),n=a(7847),l=a(9733),o=a(8185),c=a(9321),d=a(2022),m=a(4697),x=a(2468),u=a(3231),h=a(1745),g=a(933),f=a(1077),p=a(9590),y=a(6648),j=a(8472),v=a(6463),w=a(516),b=a(996),N=a(8296),Z=()=>{let e={animate:{y:[0,-20,0],rotate:[0,360,0],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}};return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,s.jsxs)("div",{className:"flex space-x-8 mb-8",children:[(0,s.jsx)(n.E.div,{variants:e,animate:"animate",className:"text-yellow-400",children:(0,s.jsx)(b.Z,{size:48})}),(0,s.jsx)(n.E.div,{variants:e,animate:"animate",className:"text-yellow-400",children:(0,s.jsx)(N.Z,{size:48})}),(0,s.jsx)(n.E.div,{variants:e,animate:"animate",className:"text-yellow-400",children:(0,s.jsx)(c.Z,{size:48})})]}),(0,s.jsx)(n.E.p,{variants:{animate:{opacity:[.5,1,.5],transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}},animate:"animate",className:"text-xl font-semibold text-gray-700",children:"Planning your perfect trip..."})]})};let C=[{id:1,category:"Accommodation",option:"Luxury Hotel",image:"/pic.jpg"},{id:2,category:"Accommodation",option:"Budget Hostel",image:"/pic.jpg"},{id:3,category:"Accommodation",option:"Airbnb",image:"/pic.jpg"},{id:4,category:"Activities",option:"Museum Tours",image:"/pic.jpg"},{id:5,category:"Activities",option:"Outdoor Adventures",image:"/pic.jpg"},{id:6,category:"Activities",option:"Shopping",image:"/pic.jpg"},{id:7,category:"Dining",option:"Fine Dining",image:"/pic.jpg"},{id:8,category:"Dining",option:"Street Food",image:"/pic.jpg"},{id:9,category:"Dining",option:"Local Cuisine",image:"/pic.jpg"},{id:10,category:"Transport",option:"Public Transit",image:"/pic.jpg"},{id:11,category:"Transport",option:"Rental Car",image:"/pic.jpg"},{id:12,category:"Transport",option:"Bike Rental",image:"/pic.jpg"}];function k(){var e;let t=(0,v.useRouter)();(0,w.Z)();let[a,b]=(0,r.useState)(0),[N,k]=(0,r.useState)({}),E=(0,i._)(),R=(0,r.useRef)(null),[z,D]=(0,r.useState)(!1),[S,A]=(0,r.useState)(null),[O,T]=(0,r.useState)(!1),_=e=>{let t=C[a];"right"===e&&k(e=>({...e,[t.category]:t.option})),E.start({x:"right"===e?1e3:-1e3,opacity:0}),setTimeout(()=>{b(e=>(e+1)%C.length),E.start({x:0,opacity:1})},300)},I=async()=>{try{T(!0),console.log("Generating itinerary based on:",N);let e=await j.Z.post("http://localhost:8080/api/user/itinary",{preferences:N},{withCredentials:!0});A(JSON.parse(e.data)),T(!1),D(!0)}catch(e){console.error("Error generating itinerary:",e)}};(0,r.useEffect)(()=>{E.start({opacity:1,x:0})},[a,E]);let P=C[a];return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,s.jsx)("nav",{className:"bg-white shadow-sm",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[(0,s.jsx)(c.Z,{className:"h-8 w-8 text-yellow-400"}),(0,s.jsx)("span",{className:"ml-2 text-2xl font-bold text-gray-800",children:"SwipeTrip"})]}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)(l.z,{variant:"ghost",className:"text-gray-600 hover:text-gray-800 px-3 py-2 rounded-md text-sm font-medium ml-4",children:[(0,s.jsx)(d.Z,{className:"h-5 w-5 mr-1"}),"Profile"]})})]})})}),z?(0,s.jsxs)("main",{className:"flex-grow flex flex-col items-center justify-start p-4 md:p-8",children:[(0,s.jsx)(n.E.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"text-3xl font-bold text-gray-800 mb-8 flex items-center",children:"Your SwipeTrip Itinerary"}),S&&(null==S?void 0:null===(e=S.itineraries)||void 0===e?void 0:e.length)>0?(0,s.jsx)("div",{className:"w-full max-w-4xl",children:S.itineraries.map((e,t)=>(0,s.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:(0,s.jsxs)(o.Zb,{className:"mb-8 bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,s.jsx)(o.Ol,{className:"bg-yellow-400 text-white p-4",children:(0,s.jsxs)(o.ll,{className:"text-2xl font-bold",children:["Day ",e.day]})}),(0,s.jsxs)(o.aY,{className:"p-4",children:[e.activities.map((e,t)=>(0,s.jsxs)("div",{className:"mb-4 last:mb-0",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:e.name}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center mt-2 text-sm text-gray-500",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4 mr-1"}),(0,s.jsx)("span",{className:"mr-4",children:e.time}),(0,s.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),(0,s.jsx)("span",{children:e.location})]})]},t)),(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 flex items-center justify-end text-gray-700",children:[(0,s.jsx)(f.Z,{className:"h-5 w-5 mr-1"}),(0,s.jsxs)("span",{children:["Cost for Day: ",e.costForDay]})]})]})]})},e.day))}):(0,s.jsx)("p",{className:"text-gray-600",children:"No itinerary available. Please generate one."}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsxs)(l.z,{onClick:()=>{console.log("Resetting itinerary"),t.replace("/dashboard")},className:"bg-yellow-400 hover:bg-yellow-500 text-white font-semibold py-2 px-6 rounded-full transition duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-lg flex items-center",children:[(0,s.jsx)(p.Z,{className:"h-5 w-5 mr-2"}),"Reset Itinerary"]})})]}):(0,s.jsxs)("main",{className:"flex-grow flex flex-col items-center justify-center p-4",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row lg:space-x-8 space-y-8 lg:space-y-0 w-full max-w-6xl mb-8",children:[(0,s.jsxs)(o.Zb,{className:"w-full lg:w-2/3 bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,s.jsx)(o.aY,{className:"p-0",ref:R,children:(0,s.jsx)(n.E.div,{drag:"x",dragConstraints:R,onDragEnd:(e,t)=>{t.offset.x>100?_("right"):t.offset.x<-100&&_("left")},animate:E,initial:{opacity:0},className:"cursor-grab active:cursor-grabbing",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(y.default,{src:P.image,alt:P.option,className:"w-full h-[calc(100vh-24rem)] object-fill",width:400,height:400}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-6",children:[(0,s.jsx)("h3",{className:"text-white text-2xl font-semibold",children:P.category}),(0,s.jsx)("p",{className:"text-white text-xl mt-2",children:P.option})]})]})})}),(0,s.jsxs)(o.eW,{className:"flex justify-between p-6 bg-white",children:[(0,s.jsxs)(l.z,{onClick:()=>_("left"),className:"bg-white hover:bg-gray-100 text-red-500 rounded-full p-4 shadow-md transition-all duration-200 ease-in-out transform hover:scale-105 border border-gray-200",children:[(0,s.jsx)(m.Z,{className:"w-8 h-8"}),(0,s.jsx)("span",{className:"sr-only",children:"Dislike"})]}),(0,s.jsxs)(l.z,{onClick:()=>_("right"),className:"bg-white hover:bg-gray-100 text-green-500 rounded-full p-4 shadow-md transition-all duration-200 ease-in-out transform hover:scale-105 border border-gray-200",children:[(0,s.jsx)(x.Z,{className:"w-8 h-8"}),(0,s.jsx)("span",{className:"sr-only",children:"Like"})]})]})]}),(0,s.jsxs)(o.Zb,{className:"w-full lg:w-1/3 bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,s.jsx)(o.Ol,{children:(0,s.jsx)(o.ll,{className:"text-xl font-semibold text-gray-800",children:"Categories"})}),(0,s.jsx)(o.aY,{children:(0,s.jsx)("ul",{className:"space-y-3",children:C.map(e=>(0,s.jsxs)("li",{className:"flex items-center text-sm",children:[N[e.category]?(0,s.jsx)(u.Z,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0"}):(0,s.jsx)("div",{className:"h-5 w-5 border-2 border-gray-300 rounded-full mr-2 flex-shrink-0"}),(0,s.jsx)("span",{className:"text-gray-700",children:e.category}),N[e.category]&&(0,s.jsx)("span",{className:"ml-auto text-sm text-gray-500",children:N[e.category]})]},e.id))})})]})]}),O?(0,s.jsx)(Z,{}):(0,s.jsxs)(l.z,{onClick:I,className:"bg-yellow-400 hover:bg-yellow-500 text-white font-semibold py-3 px-8 rounded-full transition duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-lg",children:[(0,s.jsx)(h.Z,{className:"w-5 h-5 mr-2"}),"Generate Itinerary"]})]})]})}},9733:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var s=a(7437),r=a(2265),i=a(1538),n=a(2218),l=a(9354);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:c=!1,...d}=e,m=c?i.g7:"button";return(0,s.jsx)(m,{className:(0,l.cn)(o({variant:r,size:n,className:a})),ref:t,...d})});c.displayName="Button"},8185:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},Zb:function(){return n},aY:function(){return c},eW:function(){return d},ll:function(){return o}});var s=a(7437),r=a(2265),i=a(9354);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...r})});n.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...r})});d.displayName="CardFooter"},516:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(2265),r=a(6463),i=a(8472);let n=async()=>{try{let e=await i.Z.get("http://localhost:8080/api/user/test",{withCredentials:!0});if(200===e.status)return!0;return!1}catch(e){return console.error("Error validating token:",e),!1}};var l=()=>{let e=(0,r.useRouter)();(0,s.useEffect)(()=>{(async()=>{await n()||e.push("/")})()},[e])}},9354:function(e,t,a){"use strict";a.d(t,{cn:function(){return i}});var s=a(4839),r=a(6164);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}},function(e){e.O(0,[369,123,472,100,971,23,744],function(){return e(e.s=1365)}),_N_E=e.O()}]);